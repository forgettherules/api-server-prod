{"version":3,"file":"index.js","sourceRoot":"","sources":["../../../src/search/index.ts"],"names":[],"mappings":";;;AAAA,iDAA8C;AAE9C,iDAA8C;AAE9C,2CAA+C;AAC/C,qCAAyC;AAElC,KAAK,UAAU,MAAM,CAAC,EAC3B,KAAK,EACL,QAAQ,GAAG,KAAK,EAChB,WAAW,GAAG,CAAC,EACf,GAAG,GAAG,SAAS,EACf,MAAM,GAAG,SAAS,EAClB,IAAI,GAAG,IAAI,EACX,OAAO,GAAG,IAAI,EACd,QAAQ,GAAG,SAAS,EACpB,KAAK,GAAG,SAAS,EACjB,cAAc,GAAG,CAAC,EAClB,OAAO,GAAG,IAAI,GAaf;IACC,IAAI,CAAC;QACH,IAAI,OAAO,CAAC,GAAG,CAAC,cAAc,EAAE,CAAC;YAC/B,OAAO,MAAM,IAAA,sBAAa,EAAC,KAAK,EAAE;gBAChC,WAAW;gBACX,GAAG;gBACH,MAAM;gBACN,IAAI;gBACJ,OAAO;gBACP,QAAQ;aACT,CAAC,CAAC;QACL,CAAC;QACD,IAAI,OAAO,CAAC,GAAG,CAAC,iBAAiB,EAAE,CAAC;YAClC,OAAO,MAAM,IAAA,4BAAgB,EAAC,KAAK,EAAE;gBACnC,WAAW;gBACX,GAAG;gBACH,MAAM;gBACN,IAAI;gBACJ,OAAO;gBACP,QAAQ;aACT,CAAC,CAAC;QACL,CAAC;QACD,OAAO,MAAM,IAAA,2BAAY,EACvB,KAAK,EACL,QAAQ,EACR,WAAW,EACX,GAAG,EACH,MAAM,EACN,IAAI,EACJ,OAAO,EACP,KAAK,EACL,cAAc,EACd,OAAO,CACR,CAAC;IACJ,CAAC;IAAC,OAAO,KAAK,EAAE,CAAC;QACf,eAAM,CAAC,KAAK,CAAC,6BAA6B,KAAK,EAAE,CAAC,CAAC;QACnD,OAAO,EAAE,CAAC;IACZ,CAAC;AACH,CAAC;AA9DD,wBA8DC","sourcesContent":["import { logger } from \"../../src/lib/logger\";\nimport { SearchResult } from \"../../src/lib/entities\";\nimport { googleSearch } from \"./googlesearch\";\nimport { fireEngineMap } from \"./fireEngine\";\nimport { searchapi_search } from \"./searchapi\";\nimport { serper_search } from \"./serper\";\n\nexport async function search({\n  query,\n  advanced = false,\n  num_results = 7,\n  tbs = undefined,\n  filter = undefined,\n  lang = \"en\",\n  country = \"us\",\n  location = undefined,\n  proxy = undefined,\n  sleep_interval = 0,\n  timeout = 5000,\n}: {\n  query: string;\n  advanced?: boolean;\n  num_results?: number;\n  tbs?: string;\n  filter?: string;\n  lang?: string;\n  country?: string;\n  location?: string;\n  proxy?: string;\n  sleep_interval?: number;\n  timeout?: number;\n}): Promise<SearchResult[]> {\n  try {\n    if (process.env.SERPER_API_KEY) {\n      return await serper_search(query, {\n        num_results,\n        tbs,\n        filter,\n        lang,\n        country,\n        location,\n      });\n    }\n    if (process.env.SEARCHAPI_API_KEY) {\n      return await searchapi_search(query, {\n        num_results,\n        tbs,\n        filter,\n        lang,\n        country,\n        location\n      });\n    }\n    return await googleSearch(\n      query,\n      advanced,\n      num_results,\n      tbs,\n      filter,\n      lang,\n      country,\n      proxy,\n      sleep_interval,\n      timeout\n    );\n  } catch (error) {\n    logger.error(`Error in search function: ${error}`);\n    return [];\n  }\n}\n"]}