{"version":3,"file":"specialtyHandler.js","sourceRoot":"","sources":["../../../../../../src/scraper/scrapeURL/engines/utils/specialtyHandler.ts"],"names":[],"mappings":";;;AACA,uCAA8C;AAE9C,SAAgB,oBAAoB,CAAC,MAAc,EAAE,OAA2C;IAC5F,MAAM,WAAW,GAAG,CAAC,MAAM,CAAC,OAAO,CAAC,OAAO,IAAI,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,WAAW,EAAE,KAAK,cAAc,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;IAE9G,IAAI,WAAW,KAAK,SAAS,EAAE,CAAC;QAC5B,MAAM,CAAC,IAAI,CAAC,2DAA2D,EAAE,EAAE,OAAO,EAAE,CAAC,CAAC;IAC1F,CAAC;SAAM,IAAI,WAAW,KAAK,iBAAiB,IAAI,WAAW,CAAC,UAAU,CAAC,kBAAkB,CAAC,EAAE,CAAC,CAAC,OAAO;QACjG,MAAM,IAAI,uBAAe,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;IACvC,CAAC;SAAM,IAAI,WAAW,KAAK,yEAAyE,IAAI,WAAW,CAAC,UAAU,CAAC,0EAA0E,CAAC,EAAE,CAAC,CAAC,QAAQ;QAClN,MAAM,IAAI,uBAAe,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;IACxC,CAAC;AACL,CAAC;AAVD,oDAUC","sourcesContent":["import { Logger } from \"winston\";\nimport { AddFeatureError } from \"../../error\";\n\nexport function specialtyScrapeCheck(logger: Logger, headers: Record<string, string> | undefined) {\n    const contentType = (Object.entries(headers ?? {}).find(x => x[0].toLowerCase() === \"content-type\") ?? [])[1];\n\n    if (contentType === undefined) {\n        logger.warn(\"Failed to check contentType -- was not present in headers\", { headers });\n    } else if (contentType === \"application/pdf\" || contentType.startsWith(\"application/pdf;\")) { // .pdf\n        throw new AddFeatureError([\"pdf\"]);\n    } else if (contentType === \"application/vnd.openxmlformats-officedocument.wordprocessingml.document\" || contentType.startsWith(\"application/vnd.openxmlformats-officedocument.wordprocessingml.document;\")) { // .docx\n        throw new AddFeatureError([\"docx\"]);\n    }\n}\n"]}